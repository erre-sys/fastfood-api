# App base
spring.application.name=fastfood-api
server.port=${SERVER_PORT:8080}
server.servlet.context-path=/fastfood/api

# Perfil por defecto
spring.profiles.active=dev

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.show-sql=true

# Logs (Boot creara spring.log en esta carpeta)
logging.application.name=fastfood-api
logging.level.org.hibernate.SQL=INFO
logging.file.path=${LOG_DIR:/opt/app/logs}

# Actuator (si no quieres que el health dependa del context-path, destapalo)
# management.server.base-path=/

# JMS deshabilitado en health para dev
management.health.jms.enabled=false
spring.jms.listener.auto-startup=false

# ===== JMS (ActiveMQ Artemis, Jakarta) =====
#spring.artemis.broker-url=tcp://${ARTEMIS_HOST:localhost}:${ARTEMIS_PORT:61616}
#spring.artemis.user=${ARTEMIS_USER:artemis}
#spring.artemis.password=${ARTEMIS_PASS:artemis}
#spring.jms.template.default-destination=${JMS_DEFAULT_QUEUE:orders.queue}

# ===== Security (Keycloak) =====
# Solo necesitas issuer-uri; jwk-set-uri se resuelve solo desde el issuer.
# El valor real lo ponemos por perfil (dev/prod) mas abajo.

# Roles (coma-separado; se normalizan a ROLE_*)
ejemplo.seguridad.roles.productos.read=ROLE_USER,ROL_ADMIN
ejemplo.seguridad.roles.productos.write=ROLE_USER,ROL_ADMIN

# CORS
app.cors.allowed-origins=http://localhost:4200,http://192.168.40.146:8080,http://192.168.40.146:8083


# ===== Swagger =====
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs

# ===== (Opcional) Soporte a tu JwtConverterProperties existente =====
jwt.auth.converter.resource-id=fastfood-api
jwt.auth.converter.principal-attribute=preferred_username
